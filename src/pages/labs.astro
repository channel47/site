---
/**
 * /labs — Skill Remix Lab
 * Monthly live build sessions in the Vibe Marketers community.
 *
 * Density: LOW (hero) → HIGH (stats) → MEDIUM (how it works) →
 *          RUPTURE (next session) → MEDIUM (past labs) →
 *          MEDIUM (signup) → LOW (CTA void)
 */
import BaseLayout from '../layouts/BaseLayout.astro';
import Nav from '../components/Nav.astro';
import Footer from '../components/Footer.astro';
import EmailSignup from '../components/EmailSignup.astro';

const SKOOL_LINK = 'https://www.skool.com/the-vibe-marketers/about?ref=a005b4a2e4e9420e814a94e5e1c2e708';

const pastLabs = [
  { idx: '001', name: 'Waste Detector', date: 'Jan 2026', topic: 'Find and kill wasted ad spend with one skill' },
  { idx: '002', name: 'Morning Brief', date: 'Feb 2026', topic: 'Daily cross-platform health check — anomaly detection' },
];

const schema = {
  '@type': 'BreadcrumbList',
  'itemListElement': [
    { '@type': 'ListItem', 'position': 1, 'name': 'Home', 'item': 'https://channel47.dev/' },
    { '@type': 'ListItem', 'position': 2, 'name': 'Skill Remix Lab' },
  ],
};
---

<BaseLayout
  title="Skill Remix Lab — Channel 47"
  description="Monthly live build sessions. Pick a skill. Break it down. Rebuild it yours. Free inside The Vibe Marketers."
  schema={schema}
>
  <Nav />
  <main id="main-content">

    <!-- HERO (LOW density) -->
    <section class="hero hero--compact" data-section="hero">
      <div class="hero__inner">
        <div class="hero__bar" aria-hidden="true"></div>
        <p class="label hero__label">SKILL REMIX LAB</p>
        <h1 class="hero__headline">Build with us, live.</h1>
        <p class="hero__sub">
          Monthly live sessions in the Vibe Marketers community. Pick a skill.
          Break it down. Rebuild it yours.
        </p>
        <a
          class="labs-cta btn-signal mt-8 opacity-0 self-start"
          href={SKOOL_LINK}
          target="_blank"
          rel="noopener"
        >
          Join The Vibe Marketers <span aria-hidden="true">&rarr;</span>
        </a>
      </div>
    </section>

    <!-- PROOF STRIP (HIGH density) -->
    <section class="proof-bar" style="--proof-cols: 3;" data-reveal-stagger>
      <div class="proof-bar__item" data-reveal-child data-stagger="1">
        <span class="proof-bar__value" data-counter="500">500+</span>
        <span class="proof-bar__label">Registrations</span>
      </div>
      <div class="proof-bar__item" data-reveal-child data-stagger="2">
        <span class="proof-bar__value proof-bar__value--signal">~250</span>
        <span class="proof-bar__label">Live attendees</span>
      </div>
      <div class="proof-bar__item" data-reveal-child data-stagger="3">
        <span class="proof-bar__value">Monthly</span>
        <span class="proof-bar__label">Cadence</span>
      </div>
    </section>

    <!-- HOW IT WORKS (MEDIUM density) -->
    <section class="py-[clamp(60px,10vh,100px)]" data-reveal-stagger>
      <div class="wrap">
        <div class="accent-bar" aria-hidden="true"></div>
        <p class="label mt-5 mb-5">HOW IT WORKS</p>
        <div class="max-w-[600px] border-t border-smoke">
          <div class="directory-row border-b border-smoke" data-reveal-child data-stagger="1">
            <div class="directory-row--static">
              <span class="directory-row__idx">001</span>
              <p class="directory-row__desc m-0"><strong class="font-semibold text-chalk">Live build</strong> — I pick a real workflow from my day job and build a Claude skill from scratch. You watch the whole process, decisions included.</p>
            </div>
          </div>
          <div class="directory-row border-b border-smoke" data-reveal-child data-stagger="2">
            <div class="directory-row--static">
              <span class="directory-row__idx">002</span>
              <p class="directory-row__desc m-0"><strong class="font-semibold text-chalk">Q&A</strong> — Ask anything during the build. How it works, why I made that choice, how to adapt it to your stack.</p>
            </div>
          </div>
          <div class="directory-row border-b border-smoke" data-reveal-child data-stagger="3">
            <div class="directory-row--static">
              <span class="directory-row__idx">003</span>
              <p class="directory-row__desc m-0"><strong class="font-semibold text-chalk">Take it home</strong> — Every lab ships a finished skill you can install and use immediately. No homework, no fluff.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- NEXT SESSION (rupture — light surface) -->

    <section class="rupture" data-reveal>
      <div class="relative pl-8 max-w-[640px] mx-auto px-[clamp(24px,5vw,64px)]">
        <div class="accent-bar-v" aria-hidden="true"></div>
        <p class="label text-ink/50 mb-2">NEXT LAB</p>
        <h2 class="font-display text-ink text-[clamp(1.75rem,4vw,2.5rem)] font-semibold tracking-tight leading-[1.1] mb-3">March 2026</h2>
        <p class="font-mono text-sm text-ink/70 leading-[1.7] tracking-wide mb-5 max-w-[480px]">
          Skill and date announced inside the community. Members get first access.
        </p>
        <a class="font-mono text-[11px] font-semibold tracking-widest uppercase text-signal hover:text-[#D97706] transition-colors duration-100" href={SKOOL_LINK} target="_blank" rel="noopener">
          Join The Vibe Marketers &rarr;
        </a>
      </div>
    </section>

    <!-- PAST LABS (MEDIUM density) -->
    <section class="py-[clamp(60px,10vh,100px)]" data-reveal-stagger>
      <div class="wrap">
        <p class="label mb-5">PAST LABS</p>
        <div class="max-w-[600px]">
          {pastLabs.map((lab, i) => (
            <div class="directory-row max-sm:flex-wrap max-sm:gap-y-1" data-reveal-child data-stagger={String(i + 1)}>
              <span class="directory-row__idx">{lab.idx}</span>
              <div class="flex flex-col gap-0.5 flex-1 min-w-0">
                <span class="font-mono text-sm font-semibold text-chalk tracking-wide">{lab.name}</span>
                <span class="font-mono text-xs text-stone tracking-wide">{lab.topic}</span>
              </div>
              <span class="font-mono text-[11px] text-stone tracking-wide shrink-0 uppercase">{lab.date}</span>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- SIGNUP (MEDIUM density) -->
    <section class="py-[clamp(80px,12vh,120px)]" data-reveal>
      <div class="wrap">
        <p class="label mb-5">GET NOTIFIED</p>
        <h2 class="section-headline mb-5">Lab announcements, straight to your inbox.</h2>
        <EmailSignup placeholder="you@domain.com" tag="labs" submitText="Notify me" />
      </div>
    </section>

    <!-- CTA VOID (LOW density) -->
    <section class="cta" data-reveal>
      <a class="cta__headline" href="/plugins">See the plugins</a>
      <a href="/subscribe" class="btn-signal">Get Build Notes</a>
    </section>

    <Footer />
  </main>
</BaseLayout>

<style>
  /* Hero CTA animation trigger */
  [data-section="hero"].is-visible .labs-cta {
    animation: fade-up 400ms var(--ease-out) 900ms forwards;
  }

  @media (prefers-reduced-motion: reduce) {
    .labs-cta { opacity: 1 !important; }
  }
</style>
