---
/**
 * /coming-soon — Shared empty state
 * The Void pattern. Logo, accent bar, "Not public yet." + email signup.
 */
import BaseLayout from '../layouts/BaseLayout.astro';
import LogoAnimated from '../components/LogoAnimated.astro';
import EmailSignup from '../components/EmailSignup.astro';
---

<BaseLayout
  title="Coming Soon — Channel 47"
  description="This tool isn't public yet. Subscribe to be first to know."
>
  <main id="main-content" class="min-h-dvh flex items-center p-[clamp(24px,5vw,64px)]">
    <div class="flex flex-col items-start max-w-[480px] w-full">
      <a href="/" class="mb-8" aria-label="Back to Channel 47">
        <LogoAnimated />
      </a>
      <div class="coming-soon__bar w-0 h-0.5 bg-signal mb-6" aria-hidden="true"></div>
      <p class="label mb-4 opacity-0 coming-soon__label">COMING SOON</p>
      <h1 class="text-[clamp(1.5rem,3vw,2rem)] font-semibold tracking-tight leading-[1.1] text-chalk mb-3 opacity-0 coming-soon__headline" style="font-family: var(--font-family-display);">Not public yet.</h1>
      <p class="font-mono text-sm leading-relaxed text-dust max-w-[38ch] mb-12 opacity-0 coming-soon__pitch">Subscribe to be first to know.</p>
      <div class="w-full opacity-0 coming-soon__form">
        <EmailSignup
          placeholder="you@domain.com"
          tag="coming-soon"
          submitText="Notify me"
        />
      </div>
    </div>
  </main>
</BaseLayout>

<style>
  .coming-soon__bar {
    animation: coming-soon-bar-draw 500ms var(--ease-out) 150ms forwards,
               breathing-glow 3s ease-in-out 700ms infinite;
  }
  .coming-soon__label {
    animation: coming-soon-fade-in 400ms var(--ease-out) 450ms forwards;
  }
  .coming-soon__headline {
    animation: coming-soon-fade-in 400ms var(--ease-out) 550ms forwards;
  }
  .coming-soon__pitch {
    animation: coming-soon-fade-in 400ms var(--ease-out) 650ms forwards;
  }
  .coming-soon__form {
    animation: coming-soon-rise 500ms var(--ease-out) 850ms forwards;
  }

  @keyframes coming-soon-bar-draw {
    from { width: 0; opacity: 0.5; }
    to { width: 40px; opacity: 1; }
  }
  @keyframes coming-soon-fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  @keyframes coming-soon-rise {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @media (prefers-reduced-motion: reduce) {
    .coming-soon__bar,
    .coming-soon__label,
    .coming-soon__headline,
    .coming-soon__pitch,
    .coming-soon__form {
      animation: none;
      opacity: 1;
    }
    .coming-soon__bar { width: 40px; }
  }
</style>
