---
/**
 * Tools Page
 * The Media Buyer's AI Toolkit — MCP servers, skills, and the complete plugin.
 *
 * Density: LOW (hero) → HIGH (orientation) → MEDIUM (plugin) →
 *          HIGH (MCPs) → MEDIUM (skills) → LOW (build) →
 *          MEDIUM (signup) → LOW (cta)
 */
import BaseLayout from '../layouts/BaseLayout.astro';
import Nav from '../components/Nav.astro';
import Footer from '../components/Footer.astro';
import EmailSignup from '../components/EmailSignup.astro';

const skills = [
  { idx: '001', name: 'Platform Setup', desc: 'Connect Google Ads and Bing Ads. Verify account access.', tier: 1 },
  { idx: '002', name: 'Morning Brief', desc: 'Daily cross-platform health summary with anomaly detection.', tier: 1 },
  { idx: '003', name: 'Waste Detector', desc: 'Find spend leaks, quantify in dollars, auto-remediate.', tier: 2 },
  { idx: '004', name: 'Search Term Verdict', desc: 'Classify terms: NEGATE, PROMOTE, INVESTIGATE, or KEEP.', tier: 2 },
  { idx: '005', name: 'PMax Decoder', desc: 'Crack open Performance Max — search terms, channels, assets.', tier: 2 },
];

const mcps = [
  { name: 'Google Ads MCP', version: 'v1.0.8', desc: 'Full API access. GAQL queries + mutations with dry-run safety.', cmd: 'npx @channel47/google-ads-mcp@latest', github: 'https://github.com/channel47/mcps/tree/main/google-ads' },
  { name: 'Bing Ads MCP', version: 'v1.3.1', desc: 'Reports, queries, emerging write support.', cmd: 'npx @channel47/bing-ads-mcp@latest', github: 'https://github.com/channel47/mcps/tree/main/bing-ads' },
  { name: 'Nano Banana', version: 'v1.0.0', desc: 'AI image generation via Gemini. Flash or Pro.', cmd: 'uvx gemini-image-mcp', github: 'https://github.com/channel47/mcps/tree/main/nano-banana' },
];
---

<BaseLayout
  title="Tools — Channel 47"
  description="The Media Buyer's AI Toolkit. Standalone MCP servers, intelligent skills, and the complete plugin — built from managing 25+ accounts daily."
>
  <main class="pg">

    <!-- =======================================
         ACT 1: HERO (LOW density)
         ======================================= -->
    <section class="hero" data-section="hero">
      <Nav currentPath="/tools" />
      <div class="hero__content">
        <div class="hero__bar" aria-hidden="true"></div>
        <p class="label">SEASON 01</p>
        <h1 class="hero__headline">The Media Buyer's<br />AI Toolkit</h1>
        <p class="hero__sub">
          Standalone API connections, intelligent workflows, and the complete
          plugin — from managing 25+ accounts daily.
        </p>
      </div>
    </section>

    <!-- =======================================
         ACT 2: ORIENTATION (HIGH density)
         ======================================= -->
    <section class="stats" data-section="tools-orientation">
      <div class="stats__item">
        <span class="stats__value">3</span>
        <span class="stats__label">MCP Servers</span>
      </div>
      <span class="stats__pipe" aria-hidden="true"></span>
      <div class="stats__item stats__item--signal">
        <span class="stats__value">5</span>
        <span class="stats__label">Skills</span>
      </div>
      <span class="stats__pipe" aria-hidden="true"></span>
      <div class="stats__item">
        <span class="stats__value">1</span>
        <span class="stats__label">Plugin</span>
      </div>
    </section>

    <!-- =======================================
         ACT 3: THE PLUGIN (MEDIUM density)
         ======================================= -->
    <section class="tools__plugin" data-section="tools-plugin">
      <div class="tools__plugin-content">
        <p class="label">THE PLUGIN</p>

        <div class="eco-card">
          <div class="eco-card__header">
            <div class="eco-card__bar" aria-hidden="true"></div>
            <div class="eco-card__meta">
              <span class="eco-card__title">Media Buyer</span>
              <span class="eco-card__badge">v6.1.2</span>
              <span class="eco-card__badge">5 SKILLS</span>
              <span class="eco-card__badge">2 PLATFORMS</span>
            </div>
            <p class="eco-card__desc">
              Everything a paid-search practitioner needs. Google Ads, Bing Ads,
              search term analysis, anomaly detection, spend analysis. Built from
              managing 25+ accounts.
            </p>
          </div>

          <div class="eco-card__install">
            <p class="eco-card__install-label">INSTALL</p>
            <div class="eco-card__cmds">
              <div class="eco-card__cmd-group">
                <span class="eco-card__cmd-platform">Claude Code</span>
                <code class="eco-card__cmd">/plugin marketplace add channel47/channel47</code>
                <code class="eco-card__cmd">/plugin install media-buyer@channel47</code>
              </div>
              <div class="eco-card__cmd-group">
                <span class="eco-card__cmd-platform">Cowork</span>
                <code class="eco-card__cmd">/plugins → Add marketplace → channel47/channel47 → media-buyer</code>
              </div>
            </div>
          </div>

          <div class="eco-card__footer">
            <a class="eco-card__github" href="https://github.com/channel47/channel47" target="_blank" rel="noopener">View on GitHub &rarr;</a>
          </div>
        </div>
      </div>
    </section>

    <!-- =======================================
         ACT 4: MCP SERVERS (HIGH density)
         ======================================= -->
    <section class="tools__mcps" data-section="tools-mcps">
      <div class="tools__mcps-content">
        <p class="label">MCP SERVERS</p>
        <h2 class="tools__mcps-title">Standalone connections. Use independently or inside the plugin.</h2>
        <div class="tools__mcps-grid">
          {mcps.map((mcp, i) => (
            <div class="tools__mcp-card" data-animate="fade-up" data-stagger={String(i + 1)}>
              <div class="tools__mcp-card-header">
                <span class="tools__mcp-card-name">{mcp.name}</span>
                <span class="tools__mcp-card-version">{mcp.version}</span>
              </div>
              <p class="tools__mcp-card-desc">{mcp.desc}</p>
              <code class="tools__mcp-card-cmd">{mcp.cmd}</code>
              <a class="tools__mcp-card-link" href={mcp.github} target="_blank" rel="noopener">GitHub &rarr;</a>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- =======================================
         ACT 5: SKILLS (MEDIUM density)
         ======================================= -->
    <section class="tools__skills" data-section="tools-skills">
      <div class="tools__skills-content">
        <p class="label">SKILLS</p>
        <h2 class="tools__skills-title">The intelligence layer.</h2>
        <div class="tools__skills-list">
          {skills.map((skill) => (
            <div class="tools__skill">
              <span class="tools__skill-idx" aria-hidden="true">{skill.idx}</span>
              <div class="tools__skill-detail">
                <div class="tools__skill-row">
                  <span class="tools__skill-name">{skill.name}</span>
                  <span class:list={['tools__skill-tier', skill.tier === 2 && 'tools__skill-tier--2']}>
                    T{skill.tier}
                  </span>
                </div>
                <span class="tools__skill-desc">{skill.desc}</span>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- =======================================
         ACT 6: BUILD YOUR OWN (LOW density, rupture)
         ======================================= -->
    <section class="rupture" data-section="tools-build">
      <div class="rupture__bar" aria-hidden="true"></div>
      <div class="rupture__inner">
        <p class="rupture__label label">BUILD YOUR OWN</p>
        <h2 class="rupture__headline">Start from a working example.</h2>
        <p class="rupture__body">
          Download a skill template or plugin scaffold. Remix it. Contribute it back.
        </p>
        <div class="tools__assets-wrap">
          <a href="/skills/skill-template.md" download class="tools__asset" data-animate="fade-up" data-stagger="1">
            <span class="tools__asset-icon" aria-hidden="true">001</span>
            <span class="tools__asset-name">Skill Template</span>
            <span class="tools__asset-desc">Minimal SKILL.md starter with frontmatter and section scaffolding.</span>
            <span class="tools__asset-action">Download .md</span>
          </a>
          <a href="/skills/plugin-scaffold.md" download class="tools__asset" data-animate="fade-up" data-stagger="2">
            <span class="tools__asset-icon" aria-hidden="true">002</span>
            <span class="tools__asset-name">Plugin Scaffold</span>
            <span class="tools__asset-desc">Directory structure and plugin.json template for new plugins.</span>
            <span class="tools__asset-action">Download .md</span>
          </a>
        </div>
        <a class="tools__contribute-link" href="https://github.com/channel47/channel47/blob/main/CONTRIBUTING.md" target="_blank" rel="noopener">
          Contributing guide on GitHub &rarr;
        </a>
      </div>
    </section>

    <!-- =======================================
         ACT 7: SIGNUP (MEDIUM density)
         ======================================= -->
    <section class="tools__signup" data-section="tools-signup">
      <div class="tools__signup-content">
        <p class="label">BUILD NOTES</p>
        <h2 class="tools__signup-title">New tools, new skills, new seasons.</h2>
        <p class="tools__signup-micro">No spam. Unsubscribe anytime.</p>
        <EmailSignup placeholder="you@domain.com" tag="tools" submitText="Subscribe" />
      </div>
    </section>

    <!-- =======================================
         ACT 8: CTA VOID (LOW density)
         ======================================= -->
    <section class="cta" data-section="tools-cta">
      <p class="label">TRANSMITTING</p>
      <a class="cta__action" href="/build?start">Build your first skill</a>
    </section>

    <Footer />
  </main>

  <script>
    import { initPageMotion } from '../scripts/page-motion';
    initPageMotion();
  </script>
</BaseLayout>

<style is:global>
  @import '../styles/sections.css';
</style>

<style>
  /* ---- The Plugin (MEDIUM density) ---- */
  .tools__plugin {
    padding: clamp(60px, 10vh, 100px) clamp(24px, 5vw, 64px);
    opacity: 0;
    transform: translateY(12px);
    transition: opacity 400ms var(--ease-out),
                transform 400ms var(--ease-out);
  }

  .tools__plugin.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  .tools__plugin-content > .label {
    margin-bottom: 16px;
  }

  /* ---- Plugin Card (eco-card pattern from ecosystem) ---- */
  .eco-card {
    border: 1px solid var(--color-border);
    border-radius: 2px;
    background: var(--color-bg-elevated);
    max-width: 640px;
    overflow: hidden;
  }

  .eco-card__header {
    padding: 24px 24px 20px;
    border-bottom: 1px solid var(--color-border);
  }

  .eco-card__bar {
    width: 0;
    height: 2px;
    background-color: var(--color-accent);
    margin-bottom: 16px;
  }

  .tools__plugin.is-visible .eco-card__bar {
    animation: drawH 400ms var(--ease-out) 300ms forwards;
  }

  .eco-card__meta {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
    margin-bottom: 10px;
  }

  .eco-card__title {
    font-family: var(--font-display);
    font-size: clamp(1.25rem, 2.5vw, 1.75rem);
    font-weight: 600;
    color: var(--color-fg-emphasis);
    letter-spacing: -0.02em;
  }

  .eco-card__badge {
    font-family: var(--font-mono);
    font-size: 9px;
    font-weight: 600;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    padding: 2px 8px;
    border-radius: 2px;
    background: var(--color-bg-surface);
    color: var(--color-fg-muted);
  }

  .eco-card__desc {
    font-family: var(--font-mono);
    font-size: 13px;
    line-height: 1.7;
    color: var(--color-fg-secondary);
    letter-spacing: 0.02em;
    max-width: 520px;
  }

  .eco-card__install {
    padding: 20px 24px;
    border-top: 1px solid var(--color-border);
    background: var(--color-bg);
  }

  .eco-card__install-label {
    font-family: var(--font-mono);
    font-size: 10px;
    font-weight: 600;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--color-fg-muted);
    margin-bottom: 12px;
  }

  .eco-card__cmds {
    display: grid;
    gap: 14px;
  }

  .eco-card__cmd-group {
    display: grid;
    gap: 4px;
  }

  .eco-card__cmd-platform {
    font-family: var(--font-mono);
    font-size: 11px;
    font-weight: 600;
    color: var(--color-fg-muted);
    letter-spacing: 0.1em;
    text-transform: uppercase;
    margin-bottom: 2px;
  }

  .eco-card__cmd {
    font-family: var(--font-mono);
    font-size: 12px;
    color: var(--color-fg);
    background: var(--color-bg-elevated);
    padding: 8px 12px;
    border-radius: 2px;
    display: block;
    letter-spacing: 0.02em;
    user-select: all;
    border: 1px solid var(--color-border);
  }

  .eco-card__footer {
    padding: 16px 24px;
    border-top: 1px solid var(--color-border);
  }

  .eco-card__github {
    font-family: var(--font-mono);
    font-size: 11px;
    font-weight: 600;
    letter-spacing: var(--tracking-widest);
    text-transform: uppercase;
    color: var(--color-fg-muted);
    transition: color 150ms var(--ease-sharp);
  }

  .eco-card__github:hover {
    color: var(--color-accent);
    text-decoration: none;
  }

  /* ---- MCP Servers (HIGH density) ---- */
  .tools__mcps {
    padding: clamp(60px, 10vh, 100px) clamp(24px, 5vw, 64px);
    border-top: 1px solid var(--color-border);
    opacity: 0;
    transform: translateY(12px);
    transition: opacity 400ms var(--ease-out),
                transform 400ms var(--ease-out);
  }

  .tools__mcps.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  .tools__mcps-content > .label {
    margin-bottom: 8px;
  }

  .tools__mcps-title {
    font-family: var(--font-display);
    font-size: clamp(1.5rem, 3vw, 2rem);
    font-weight: 600;
    letter-spacing: -0.03em;
    line-height: 1.1;
    color: var(--color-fg-emphasis);
    margin-bottom: 24px;
    max-width: 600px;
  }

  .tools__mcps-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 16px;
    max-width: 960px;
  }

  .tools__mcp-card {
    border: 1px solid var(--color-border);
    border-radius: 2px;
    background: var(--color-bg-elevated);
    padding: 20px;
    display: grid;
    gap: 8px;
    transition: border-color var(--duration-fast) var(--ease-out);
  }

  .tools__mcp-card:hover {
    border-color: var(--color-accent);
  }

  .tools__mcp-card-header {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .tools__mcp-card-name {
    font-family: var(--font-mono);
    font-size: 14px;
    font-weight: 600;
    color: var(--color-fg);
    letter-spacing: 0.02em;
  }

  .tools__mcp-card-version {
    font-family: var(--font-mono);
    font-size: 9px;
    font-weight: 600;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    padding: 2px 8px;
    border-radius: 2px;
    background: var(--color-bg-surface);
    color: var(--color-fg-muted);
  }

  .tools__mcp-card-desc {
    font-family: var(--font-mono);
    font-size: 12px;
    color: var(--color-fg-muted);
    line-height: 1.5;
    letter-spacing: 0.02em;
  }

  .tools__mcp-card-cmd {
    font-family: var(--font-mono);
    font-size: 12px;
    color: var(--color-fg);
    background: var(--color-bg);
    padding: 8px 12px;
    border-radius: 2px;
    display: block;
    letter-spacing: 0.02em;
    user-select: all;
    border: 1px solid var(--color-border);
  }

  .tools__mcp-card-link {
    font-family: var(--font-mono);
    font-size: 11px;
    font-weight: 600;
    letter-spacing: var(--tracking-widest);
    text-transform: uppercase;
    color: var(--color-fg-muted);
    transition: color 150ms var(--ease-sharp);
  }

  .tools__mcp-card-link:hover {
    color: var(--color-accent);
    text-decoration: none;
  }

  /* ---- Skills (MEDIUM density) ---- */
  .tools__skills {
    padding: clamp(60px, 10vh, 100px) clamp(24px, 5vw, 64px);
    border-top: 1px solid var(--color-border);
    opacity: 0;
    transform: translateY(12px);
    transition: opacity 400ms var(--ease-out),
                transform 400ms var(--ease-out);
  }

  .tools__skills.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  .tools__skills-content > .label {
    margin-bottom: 8px;
  }

  .tools__skills-title {
    font-family: var(--font-display);
    font-size: clamp(1.5rem, 3vw, 2rem);
    font-weight: 600;
    letter-spacing: -0.03em;
    line-height: 1.1;
    color: var(--color-fg-emphasis);
    margin-bottom: 24px;
  }

  .tools__skills-list {
    max-width: 600px;
  }

  .tools__skill {
    display: grid;
    grid-template-columns: 28px 1fr;
    column-gap: 12px;
    padding: 12px 0;
    border-bottom: 1px solid var(--color-border);
  }

  .tools__skill:last-child {
    border-bottom: none;
  }

  .tools__skill-idx {
    font-family: var(--font-mono);
    font-size: 11px;
    color: var(--color-border);
    letter-spacing: 0.1em;
    padding-top: 1px;
  }

  .tools__skill-detail {
    display: grid;
    gap: 2px;
  }

  .tools__skill-row {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .tools__skill-name {
    font-family: var(--font-mono);
    font-size: 13px;
    font-weight: 600;
    color: var(--color-fg);
    letter-spacing: 0.02em;
  }

  .tools__skill-tier {
    font-family: var(--font-mono);
    font-size: 9px;
    font-weight: 600;
    letter-spacing: 0.12em;
    padding: 1px 5px;
    border-radius: 2px;
    background: var(--color-bg-surface);
    color: var(--color-fg-muted);
  }

  .tools__skill-tier--2 {
    background: var(--color-accent-subtle);
    color: var(--color-accent);
  }

  .tools__skill-desc {
    font-family: var(--font-mono);
    font-size: 12px;
    color: var(--color-fg-muted);
    letter-spacing: 0.02em;
    line-height: 1.5;
  }

  /* ---- Build Your Own (rupture interior) ---- */
  .rupture__inner {
    padding: clamp(80px, 12vh, 140px) clamp(24px, 5vw, 64px);
  }

  .tools__assets-wrap {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 16px;
    max-width: 672px;
    margin-top: 24px;
  }

  .tools__asset {
    display: grid;
    grid-template-columns: 32px 1fr;
    grid-template-rows: auto auto auto;
    column-gap: 12px;
    padding: 16px;
    border: 1px solid var(--color-light-border, rgba(0, 0, 0, 0.1));
    border-radius: 2px;
    text-decoration: none;
    color: inherit;
    transition:
      border-color var(--duration-fast) var(--ease-out),
      background-color var(--duration-fast) var(--ease-out);
  }

  .tools__asset:hover {
    border-color: var(--color-accent);
    background: rgba(0, 0, 0, 0.03);
    text-decoration: none;
  }

  .tools__asset-icon {
    grid-row: 1 / -1;
    font-family: var(--font-mono);
    font-size: 11px;
    color: rgba(0, 0, 0, 0.2);
    letter-spacing: 0.1em;
    padding-top: 2px;
  }

  .tools__asset-name {
    font-family: var(--font-mono);
    font-size: 14px;
    font-weight: 600;
    color: var(--color-light-ink);
    letter-spacing: 0.02em;
  }

  .tools__asset-desc {
    font-family: var(--font-mono);
    font-size: 12px;
    color: var(--color-fg-muted);
    line-height: 1.5;
    margin-top: 4px;
  }

  .tools__asset-action {
    font-family: var(--font-mono);
    font-size: 11px;
    font-weight: 600;
    color: var(--color-accent);
    letter-spacing: 0.1em;
    text-transform: uppercase;
    margin-top: 8px;
  }

  .tools__contribute-link {
    display: inline-block;
    margin-top: 24px;
    font-family: var(--font-mono);
    font-size: 11px;
    font-weight: 600;
    letter-spacing: var(--tracking-widest);
    text-transform: uppercase;
    color: var(--color-accent);
    transition: color 150ms var(--ease-sharp);
  }

  .tools__contribute-link:hover {
    color: var(--color-light-ink);
    text-decoration: none;
  }

  /* ---- Signup (MEDIUM density) ---- */
  .tools__signup {
    padding: clamp(60px, 10vh, 100px) clamp(24px, 5vw, 64px);
    border-top: 1px solid var(--color-border);
    opacity: 0;
    transform: translateY(12px);
    transition: opacity 400ms var(--ease-out),
                transform 400ms var(--ease-out);
  }

  .tools__signup.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  .tools__signup-content .label {
    margin-bottom: 8px;
  }

  .tools__signup-title {
    font-family: var(--font-display);
    font-size: clamp(1.5rem, 3vw, 2rem);
    font-weight: 600;
    letter-spacing: -0.03em;
    line-height: 1.1;
    color: var(--color-fg-emphasis);
    margin-bottom: 12px;
  }

  .tools__signup-micro {
    font-family: var(--font-mono);
    font-size: 11px;
    letter-spacing: 0.1em;
    color: var(--color-fg-muted);
    margin-bottom: 16px;
    text-transform: uppercase;
  }

  /* ---- CTA Action (confident close) ---- */
  .cta__action {
    font-family: var(--font-display);
    font-size: clamp(1.5rem, 4vw, 2.5rem);
    font-weight: 500;
    color: var(--color-fg-emphasis);
    text-decoration: none;
    position: relative;
    display: inline-block;
    margin-bottom: 40px;
    transition: color 150ms var(--ease-out);
  }

  .cta__action::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -6px;
    width: 100%;
    height: 2px;
    background: var(--color-accent);
    transform-origin: left;
    transition: transform 250ms var(--ease-out);
  }

  .cta__action:hover {
    color: var(--color-accent);
  }

  .cta__action:hover::after {
    transform: scaleX(0);
    transform-origin: right;
  }

  .cta__action:focus-visible {
    outline: 2px solid var(--color-accent);
    outline-offset: 4px;
  }

  /* ---- Reduced Motion ---- */
  @media (prefers-reduced-motion: reduce) {
    .tools__plugin,
    .tools__mcps,
    .tools__skills,
    .tools__signup,
    .tools__asset,
    .tools__contribute-link,
    .eco-card__github,
    .tools__mcp-card,
    .tools__mcp-card-link,
    .cta__action,
    .cta__action::after {
      transition: none !important;
    }

    .tools__plugin,
    .tools__mcps,
    .tools__skills,
    .tools__signup {
      opacity: 1 !important;
    }
  }

  /* ---- Responsive ---- */
  @media (max-width: 640px) {
    .tools__mcps-grid {
      grid-template-columns: 1fr;
    }

    .tools__assets-wrap {
      grid-template-columns: 1fr;
    }
  }
</style>
