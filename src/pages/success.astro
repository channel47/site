---
/**
 * Success Page
 *
 * Post-purchase delivery page.
 * Confirmation, quick start, support info.
 * Direct, confident tone. Peer to peer.
 */

import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Button from '../components/Button.astro';
---

<BaseLayout
  title="You're In — Channel47"
  description="Your Google Ads Skills are ready to use."
>
  <Header />

  <main class="success-page">
    <div class="success-content">
      <!-- Confirmation -->
      <section class="success-hero">
        <div class="success-icon">✓</div>
        <h1>You're in.</h1>
        <p class="success-subtitle">
          Your Google Ads Skills are ready to use.
        </p>
      </section>

      <!-- Get Started -->
      <section class="success-section">
        <h2>Get started</h2>
        <div class="quick-start-steps">
          <div class="quick-step">
            <span class="quick-step__number">1</span>
            <div class="quick-step__content">
              <h3>Connect the MCP</h3>
              <p>
                Add the server URL to Claude, Cursor, or your MCP-compatible tool:
              </p>
              <div class="url-display">
                <code class="url-display__url">https://mcp.jig.tools/sse</code>
                <button class="copy-button" data-copy="https://mcp.jig.tools/sse">
                  Copy
                </button>
              </div>
              <p class="step-note">
                Need help? See the <a href="/setup">Setup Guide</a>.
              </p>
            </div>
          </div>

          <div class="quick-step">
            <span class="quick-step__number">2</span>
            <div class="quick-step__content">
              <h3>Start asking questions</h3>
              <p>
                Try:
              </p>
              <div class="prompt-example">
                "Audit my Google Ads account for wasted spend."
              </div>
              <p>
                The skills guide your AI through the same process I'd use—structured queries, pattern recognition, failure checklists.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Your Files -->
      <section class="success-section">
        <h2>Your files</h2>
        <p>
          Skills are delivered through the MCP—no download needed. But if you want offline copies:
        </p>
        <div class="download-card">
          <div class="download-info">
            <h3>Google Ads Skills Package</h3>
            <p>Complete skill files for offline use</p>
          </div>
          <Button href="#" variant="outline" size="md">
            Download ZIP
          </Button>
        </div>
      </section>

      <!-- Questions -->
      <section class="success-section">
        <h2>Questions?</h2>
        <p>
          Email <a href="mailto:support@jig.tools">support@jig.tools</a>. I read everything.
        </p>
      </section>

      <!-- Guarantee Note -->
      <section class="success-section success-section--guarantee">
        <p>
          14-day money-back guarantee. No hoops.
        </p>
      </section>
    </div>
  </main>

  <Footer />
</BaseLayout>

<script>
  // Copy button functionality
  document.querySelectorAll('.copy-button').forEach(button => {
    button.addEventListener('click', async () => {
      const text = button.getAttribute('data-copy');
      if (text) {
        await navigator.clipboard.writeText(text);
        const originalText = button.textContent;
        button.textContent = 'Copied!';
        button.classList.add('copy-button--success');
        setTimeout(() => {
          button.textContent = originalText;
          button.classList.remove('copy-button--success');
        }, 2000);
      }
    });
  });
</script>

<style>
  .success-page {
    padding: var(--space-6) var(--space-4);
    padding-top: var(--space-8);
    min-height: calc(100vh - 200px);
  }

  @media (min-width: 768px) {
    .success-page {
      padding: var(--space-8) var(--space-4);
      padding-top: var(--space-12);
    }
  }

  .success-content {
    max-width: var(--content-width);
    margin: 0 auto;
  }

  /* Hero/Confirmation */
  .success-hero {
    text-align: center;
    margin-bottom: var(--space-12);
  }

  @media (min-width: 768px) {
    .success-hero {
      margin-bottom: var(--space-16);
    }
  }

  .success-icon {
    width: 64px;
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto var(--space-5);
    background-color: var(--color-success);
    color: var(--color-fg-inverse);
    font-size: var(--text-3xl);
    font-weight: var(--font-bold);
    border-radius: var(--radius-full);
  }

  @media (min-width: 768px) {
    .success-icon {
      width: 80px;
      height: 80px;
      font-size: var(--text-4xl);
      margin-bottom: var(--space-6);
    }
  }

  .success-hero h1 {
    font-size: var(--text-3xl);
    font-weight: var(--font-bold);
    margin-bottom: var(--space-3);
  }

  @media (min-width: 768px) {
    .success-hero h1 {
      font-size: var(--text-4xl);
      margin-bottom: var(--space-4);
    }
  }

  .success-subtitle {
    font-size: var(--text-base);
    color: var(--color-fg-secondary);
    margin: 0;
    max-width: 45ch;
    margin-left: auto;
    margin-right: auto;
  }

  @media (min-width: 768px) {
    .success-subtitle {
      font-size: var(--text-xl);
    }
  }

  /* Sections */
  .success-section {
    margin-bottom: var(--space-10);
  }

  @media (min-width: 768px) {
    .success-section {
      margin-bottom: var(--space-12);
    }
  }

  .success-section h2 {
    font-size: var(--text-xl);
    font-weight: var(--font-bold);
    margin-bottom: var(--space-5);
  }

  @media (min-width: 768px) {
    .success-section h2 {
      font-size: var(--text-2xl);
      margin-bottom: var(--space-6);
    }
  }

  .success-section p {
    font-size: var(--text-base);
    margin-bottom: var(--space-4);
  }

  .success-section a {
    color: var(--color-accent);
    text-decoration: none;
  }

  .success-section a:hover {
    text-decoration: underline;
  }

  /* Quick Start Steps */
  .quick-start-steps {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  @media (min-width: 768px) {
    .quick-start-steps {
      gap: var(--space-6);
    }
  }

  .quick-step {
    display: flex;
    gap: var(--space-3);
    padding: var(--space-4);
    background-color: var(--color-bg-elevated);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
  }

  @media (min-width: 768px) {
    .quick-step {
      gap: var(--space-4);
      padding: var(--space-6);
    }
  }

  .quick-step__number {
    flex-shrink: 0;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--color-accent);
    color: var(--color-fg-inverse);
    font-family: var(--font-sans);
    font-weight: var(--font-bold);
    font-size: var(--text-sm);
    border-radius: var(--radius-full);
  }

  @media (min-width: 768px) {
    .quick-step__number {
      width: 36px;
      height: 36px;
      font-size: var(--text-base);
    }
  }

  .quick-step__content {
    flex: 1;
    min-width: 0;
  }

  .quick-step__content h3 {
    font-family: var(--font-sans);
    font-size: var(--text-base);
    font-weight: var(--font-semibold);
    margin-bottom: var(--space-2);
  }

  @media (min-width: 768px) {
    .quick-step__content h3 {
      font-size: var(--text-lg);
    }
  }

  .quick-step__content p {
    font-size: var(--text-sm);
    color: var(--color-fg-secondary);
    margin-bottom: var(--space-3);
  }

  @media (min-width: 768px) {
    .quick-step__content p {
      font-size: var(--text-base);
    }
  }

  .quick-step__content p:last-child {
    margin-bottom: 0;
  }

  .step-note {
    font-size: var(--text-xs) !important;
    color: var(--color-fg-muted) !important;
  }

  @media (min-width: 768px) {
    .step-note {
      font-size: var(--text-sm) !important;
    }
  }

  .url-display {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    padding: var(--space-3);
    background-color: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-3);
  }

  @media (min-width: 480px) {
    .url-display {
      flex-direction: row;
      align-items: center;
      padding: var(--space-3) var(--space-4);
    }
  }

  .url-display__url {
    flex: 1;
    font-family: var(--font-mono);
    font-size: var(--text-xs);
    color: var(--color-accent);
    background: none;
    padding: 0;
    word-break: break-all;
  }

  @media (min-width: 480px) {
    .url-display__url {
      font-size: var(--text-sm);
      word-break: normal;
    }
  }

  .copy-button {
    font-family: var(--font-sans);
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    padding: var(--space-3) var(--space-4);
    background-color: var(--color-bg-elevated);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    color: var(--color-fg-secondary);
    cursor: pointer;
    transition: all var(--duration-fast) var(--ease-out);
    /* Touch-friendly */
    min-height: 48px;
    -webkit-tap-highlight-color: transparent;
  }

  @media (min-width: 480px) {
    .copy-button {
      padding: var(--space-2) var(--space-4);
      min-height: 40px;
    }
  }

  .copy-button:hover {
    background-color: var(--color-bg-hover);
    color: var(--color-fg);
  }

  .copy-button:active {
    transform: scale(0.98);
  }

  .copy-button--success {
    background-color: var(--color-success);
    color: var(--color-fg-inverse);
    border-color: var(--color-success);
  }

  .prompt-example {
    padding: var(--space-3) var(--space-4);
    background-color: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    font-size: var(--text-sm);
    font-style: italic;
    color: var(--color-fg);
    margin-bottom: var(--space-3);
  }

  /* Download Section */
  .download-card {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
    padding: var(--space-4);
    background-color: var(--color-bg-elevated);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
  }

  @media (min-width: 640px) {
    .download-card {
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      padding: var(--space-5);
    }
  }

  .download-info h3 {
    font-family: var(--font-sans);
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
    margin-bottom: var(--space-1);
  }

  @media (min-width: 768px) {
    .download-info h3 {
      font-size: var(--text-base);
    }
  }

  .download-info p {
    font-size: var(--text-xs);
    color: var(--color-fg-muted);
    margin: 0;
  }

  @media (min-width: 768px) {
    .download-info p {
      font-size: var(--text-sm);
    }
  }

  /* Guarantee Note */
  .success-section--guarantee {
    text-align: center;
    padding: var(--space-5);
    background-color: var(--color-bg-elevated);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
  }

  @media (min-width: 768px) {
    .success-section--guarantee {
      padding: var(--space-6);
    }
  }

  .success-section--guarantee p {
    font-size: var(--text-sm);
    color: var(--color-fg-muted);
    margin: 0;
  }
</style>
