---
/**
 * Homepage - Manifesto Landing Page
 *
 * A single, focused page to capture email signups.
 * Typography is the hero. No navigation, no distractions.
 *
 * Visual flow:
 * 1. Headline lands alone, dominant
 * 2. Manifesto builds: hook → insight → resolution
 * 3. CTA emerges naturally from the narrative
 */
import BaseLayout from '../layouts/BaseLayout.astro';
import Prose from '../components/Prose.astro';
import EmailSignup from '../components/EmailSignup.astro';
---

<BaseLayout
  title="Channel47 — Tools are free. Leverage is learned."
  description="Open source AI tools and the knowledge to use them."
>
  <main class="page">
    <Prose>
      <!-- Hero: The headline stands alone -->
      <header class="hero" data-animate="fade-up">
        <h1 class="hero__headline">
          Tools are free.<br />Leverage is learned.
        </h1>
      </header>

      <!-- Manifesto: Hook → Insight → Resolution -->
      <section class="manifesto">
        <p class="manifesto__lede" data-animate="fade-up">
          Everyone has access to the same tools. Few know how to make them work.
        </p>
        <p class="manifesto__insight" data-animate="fade-up">
          The gap isn't technology. It's technique. Knowing which lever to pull, when to pull it, and why it matters.
        </p>
        <p class="manifesto__resolution" data-animate="fade-up">
          Channel47 is open source tools built for real work. And the knowledge to make them yours.
        </p>
      </section>

      <!-- CTA: The natural next step -->
      <section class="cta" data-animate="fade-up">
        <p class="cta__context">Open source AI tools and the knowledge to use them.</p>
        <EmailSignup
          buttonText="Join"
          placeholder="you@example.com"
          tag="manifesto"
          helperText="No spam. Unsubscribe anytime."
        />
      </section>
    </Prose>
  </main>
</BaseLayout>

<style>
  .page {
    display: flex;
    flex-direction: column;
    justify-content: center;
    min-height: 100vh;
    padding-block: var(--space-16);
  }

  /* =========================================
   * HERO
   * The headline stands alone, dominant
   * ========================================= */
  .hero {
    text-align: center;
    margin-bottom: var(--space-16);
  }

  @media (min-width: 768px) {
    .hero {
      margin-bottom: var(--space-20);
    }
  }

  .hero__headline {
    font-family: var(--font-serif);
    font-size: var(--text-4xl);
    font-weight: var(--font-semibold);
    letter-spacing: var(--tracking-tight);
    line-height: var(--leading-tight);
    color: var(--color-fg);
    margin: 0;
  }

  @media (min-width: 768px) {
    .hero__headline {
      font-size: var(--text-5xl);
    }
  }

  /* =========================================
   * MANIFESTO
   * Three beats: hook, insight, resolution
   * ========================================= */
  .manifesto {
    text-align: center;
    margin-bottom: var(--space-16);
  }

  @media (min-width: 768px) {
    .manifesto {
      margin-bottom: var(--space-20);
    }
  }

  /* The hook: slightly larger, draws you in */
  .manifesto__lede {
    font-family: var(--font-serif);
    font-size: var(--text-xl);
    font-weight: var(--font-medium);
    color: var(--color-fg);
    line-height: var(--leading-relaxed);
    margin: 0 0 var(--space-6) 0;
  }

  /* The insight: the "aha" moment */
  .manifesto__insight {
    font-family: var(--font-serif);
    font-size: var(--text-lg);
    color: var(--color-fg-secondary);
    line-height: var(--leading-relaxed);
    margin: 0 0 var(--space-6) 0;
  }

  /* The resolution: who we are, what we offer */
  .manifesto__resolution {
    font-family: var(--font-serif);
    font-size: var(--text-lg);
    color: var(--color-fg);
    line-height: var(--leading-relaxed);
    margin: 0;
  }

  /* =========================================
   * CTA
   * The natural next step
   * ========================================= */
  .cta {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-5);
    text-align: center;
  }

  .cta__context {
    font-family: var(--font-serif);
    font-size: var(--text-sm);
    color: var(--color-fg-muted);
    letter-spacing: var(--tracking-wide);
    margin: 0;
  }

  /* =========================================
   * ANIMATIONS
   * Subtle fade-up as elements enter
   * ========================================= */
  [data-animate="fade-up"] {
    opacity: 0;
    transform: translateY(16px);
    transition:
      opacity var(--duration-slow) var(--ease-out),
      transform var(--duration-slow) var(--ease-out);
  }

  [data-animate="fade-up"].is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Stagger the animations */
  .hero[data-animate] {
    transition-delay: var(--stagger-1);
  }

  .manifesto__lede[data-animate] {
    transition-delay: var(--stagger-2);
  }

  .manifesto__insight[data-animate] {
    transition-delay: var(--stagger-3);
  }

  .manifesto__resolution[data-animate] {
    transition-delay: var(--stagger-4);
  }

  .cta[data-animate] {
    transition-delay: var(--stagger-5);
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    [data-animate="fade-up"] {
      opacity: 1;
      transform: none;
      transition: none;
    }
  }
</style>
