---
/**
 * Waitlist - Email signup section with context
 *
 * Wraps EmailSignup with headline and description.
 * Used for primary CTA on landing pages and secondary
 * signup prompts on the main site.
 */
import EmailSignup from './EmailSignup.astro';

interface Props {
  title?: string;
  description?: string;
  tag?: string;
  buttonText?: string;
  align?: 'left' | 'center';
  class?: string;
}

const {
  title = 'Stay updated',
  description = 'New tools and guides. No spam.',
  tag = 'general',
  buttonText = 'Notify me',
  align = 'center',
  class: className,
} = Astro.props;

const alignClass = align === 'center' ? 'waitlist--center' : 'waitlist--left';
---

<section class:list={['waitlist', alignClass, className]}>
  <div class="waitlist__content">
    <h3 class="waitlist__title">{title}</h3>
    <p class="waitlist__description">{description}</p>
    <EmailSignup
      buttonText={buttonText}
      tag={tag}
      helperText=""
      class="waitlist__form"
    />
  </div>
</section>

<style>
  .waitlist {
    padding-block: var(--space-10);
  }

  .waitlist--center .waitlist__content {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .waitlist--left .waitlist__content {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    text-align: left;
  }

  .waitlist__title {
    font-family: var(--font-serif);
    font-size: var(--text-xl);
    font-weight: var(--font-semibold);
    color: var(--color-fg);
    margin: 0 0 var(--space-2) 0;
    letter-spacing: var(--tracking-tight);
  }

  .waitlist__description {
    font-family: var(--font-serif);
    font-size: var(--text-base);
    color: var(--color-fg-secondary);
    margin: 0 0 var(--space-6) 0;
    line-height: var(--leading-relaxed);
  }

  .waitlist__form {
    width: 100%;
  }

  .waitlist--center .waitlist__form {
    max-width: 360px;
  }
</style>
