---
interface Props {
  name: string;
  description: string;
  type: 'skill' | 'mcp' | 'subagent' | 'plugin';
  repo?: string;
}

const { name, description, type, repo } = Astro.props;

const typeLabels: Record<string, string> = {
  skill: 'SKILL',
  mcp: 'MCP',
  subagent: 'SUBAGENT',
  plugin: 'PLUGIN',
};

const href = repo || '/coming-soon';
const isExternal = !!repo;
---

<a
  href={href}
  target={isExternal ? '_blank' : undefined}
  rel={isExternal ? 'noopener' : undefined}
  class="tool-card block py-4 border-b border-gray-200 cursor-pointer transition-colors duration-100 hover:bg-gray-50/50"
  data-type={type}
  data-name={name.toLowerCase()}
  data-description={description.toLowerCase()}
>
  <div class="flex items-start justify-between gap-4">
    <div class="min-w-0">
      <h3 class="font-mono text-sm text-primary">{name}</h3>
      <p class="font-mono text-sm text-gray-600 leading-relaxed tracking-wide mt-1">{description}</p>
    </div>
    <span class="font-mono text-[10px] font-medium tracking-[0.1em] uppercase text-amber bg-[var(--amber-dim)] px-2 py-0.5 rounded-tight shrink-0 mt-0.5">
      {typeLabels[type]}
    </span>
  </div>
</a>
